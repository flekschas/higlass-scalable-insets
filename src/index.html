<!DOCTYPE html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>HiGlass</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/latest/css/bootstrap.min.css">
<link rel="stylesheet" href="hglib.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.6.2/react.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/15.6.2/react-dom.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.6.2/pixi.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-bootstrap/0.32.0/react-bootstrap.min.js"></script>
</head>
<body >
  <div
    id="development-demo"
    style="position: absolute; left: 1rem; top: 1rem; bottom: 1rem; right: 1rem">
  </div>
</body>
<script src="hglib.js"></script>
</script>
<script>

const testViewConfig = {
  editable: true,
  zoomFixed: false,
  trackSourceServers: [
    'http://higlass.io/api/v1',
    'http://localhost:8989/api/v1',
  ],
  exportViewUrl: 'http://localhost:8000/api/v1/viewconfs/',
  views: [
    {
      uid: 'aa',
      // initialXDomain: [
      //   2288626814.9215517,
      //   2292403756.8728547
      // ],
      // initialYDomain: [
      //   2289720324.6361523,
      //   2291935152.7318683
      // ],
      initialXDomain: [
        2369671819.231136,
        2380392537.7446365,
      ],
      initialYDomain: [
        2372031264.2694373,
        2377536245.92563,
      ],
      autocompleteSource: 'http://higlass.io/api/v1/suggest/?d=OHJakQICQD6gTD7skx4EWA&',
      genomePositionSearchBoxVisible: true,
      chromInfoPath: '//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv',
      tracks: {
        top: [
          {
            name: 'Gene Annotations (hg19)',
            server: 'http://higlass.io/api/v1',
            tilesetUid: 'OHJakQICQD6gTD7skx4EWA',
            uid: 'BEEMEjU7QCa2krDO9C0yOQ',
            type: 'horizontal-gene-annotations',
            options: {
              labelPosition: 'outerTop',
              name: 'Gene Annotations (hg19)',
              labelColor: 'black',
              plusStrandColor: 'blue',
              minusStrandColor: 'red',
              trackBorderWidth: 0,
              trackBorderColor: 'black',
            },
            width: 2310,
            height: 60,
            position: 'top',
          },
          {
            name: 'wgEncodeSydhTfbsGm12878Rad21IggrabSig',
            server: 'http://higlass.io/api/v1',
            tilesetUid: 'F2vbUeqhS86XkxuO1j2rPA',
            type: 'horizontal-line',
            options: {
              labelColor: 'red',
              labelPosition: 'outerLeft',
              axisPositionHorizontal: 'right',
              lineStrokeColor: 'blue',
              name: 'wgEncodeSydhTfbsGm12878Rad21IggrabSig.hitile',
              valueScaling: 'log',
              lineStrokeWidth: 1,
              trackBorderWidth: 0,
              trackBorderColor: 'black',
              labelTextOpacity: 0.4,
            },
            width: 2310,
            height: 20,
            position: 'top',
            uid: 'Vz12upkzTfOnnx-T4A8mTQ',
          },
          {
            chromInfoPath: '//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv',
            type: 'horizontal-chromosome-labels',
            position: 'top',
            name: 'Chromosome Labels (hg19)',
            height: 30,
            uid: 'I1QUF22JQJuJ38j9PS4iqw',
            options: {},
            width: 2310,
          },
        ],
        left: [
          {
            name: 'wgEncodeSydhTfbsGm12878Rad21IggrabSig',
            server: 'http://higlass.io/api/v1',
            tilesetUid: 'F2vbUeqhS86XkxuO1j2rPA',
            type: 'vertical-line',
            options: {
              labelColor: 'red',
              labelPosition: 'outerLeft',
              axisPositionHorizontal: 'right',
              lineStrokeColor: 'blue',
              name: 'wgEncodeSydhTfbsGm12878Rad21IggrabSig.hitile',
              valueScaling: 'log',
              axisPositionVertical: 'top',
              lineStrokeWidth: 1,
              trackBorderWidth: 0,
              trackBorderColor: 'black',
              labelTextOpacity: 0.4,
            },
            width: 20,
            position: 'left',
            uid: 'CRKsGdngTFm4JxH-BGuSfw',
            height: 592,
          },
          {
            type: 'vertical-gene-annotations',
            width: 60,
            tilesetUid: 'OHJakQICQD6gTD7skx4EWA',
            server: 'http://higlass.io/api/v1',
            position: 'left',
            name: 'Gene Annotations (hg19)',
            options: {
              labelPosition: 'bottomRight',
              name: 'Gene Annotations (hg19)',
              labelColor: 'black',
              plusStrandColor: 'blue',
              minusStrandColor: 'red',
              trackBorderWidth: 0,
              trackBorderColor: 'black',
            },
            uid: 'OgnAEKSHRaG-gR1RqPOuBQ',
            height: 592,
          },
          {
            chromInfoPath: '//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv',
            type: 'vertical-chromosome-labels',
            position: 'left',
            name: 'Chromosome Labels (hg19)',
            width: 30,
            uid: 'a-mFiHnBQ8uuI6UG3USWVA',
            options: {},
            height: 592,
          },
        ],
        center: [
          {
            uid: 'c1',
            type: 'combined',
            height: 592,
            contents: [
              {
                server: 'http://localhost:8001/api/v1',
                tilesetUid: 'rao-gm12878-1kbmr',
                type: 'heatmap',
                position: 'center',
                options: {
                  colorRange: [
                    '#fff',
                    '#bbb',
                    '#666',
                    '#333',
                  ],
                  colorbarPosition: 'topRight',
                  colorbarLabelsPosition: 'outside',
                  maxZoom: null,
                  labelPosition: 'bottomLeft',
                  name: 'Rao et al. (2014) GM12878 MboI (allreps) 1kb',
                  trackBorderWidth: 0,
                  trackBorderColor: 'black',
                  heatmapValueScaling: 'log',
                  scaleStartPercent: '0.00000',
                  scaleEndPercent: '1.00000',
                },
                uid: 'heatmap1',
                name: 'Rao et al. (2014) GM12878 MboI (allreps) 1kb',
                transforms: [
                  {
                    name: 'ICE',
                    value: 'weight',
                  },
                ],
              },
              {
                server: 'http://higlass.io/api/v1',
                tilesetUid: 'Pj-GSgp0SlqpKhuLJkhzFQ',
                uid: 'anno-tads-1',
                type: '2d-rectangle-domains',
                options: {
                  patternType: 'tad',
                  labelColor: 'black',
                  labelPosition: 'hidden',
                  trackBorderWidth: 0,
                  trackBorderColor: 'black',
                  rectangleDomainFillColor: 'grey',
                  rectangleDomainFillOpacity: 0,
                  rectangleDomainStrokeColor: 'black',
                  rectangleDomainOpacity: 0,
                  rectanlgeMinSize: 1,
                  name: 'Forcato et al (2017) Rao_RepA1_GM12878_domainCaller.txt.multires.db',
                },
                position: 'center',
              },
              {
                server: 'http://higlass.io/api/v1',
                tilesetUid: 'UH5yId-URvCwCaxOrYGa8w',
                uid: 'anno-tads-2',
                type: '2d-rectangle-domains',
                options: {
                  patternType: 'tad',
                  labelColor: 'black',
                  labelPosition: 'hidden',
                  trackBorderWidth: 0,
                  trackBorderColor: 'black',
                  rectangleDomainFillColor: 'grey',
                  rectangleDomainFillOpacity: 0,
                  rectangleDomainStrokeColor: 'black',
                  rectangleDomainOpacity: 0,
                  rectanlgeMinSize: 1,
                  name: 'Forcato et al (2017) Rao_RepA1_GM12878_Arrowhead.txt.multires.db',
                },
                position: 'center',
              },
              {
                server: 'http://higlass.io/api/v1',
                tilesetUid: 'cs3PLbfDTKO0fso6UewTPQ',
                uid: 'anno-tads-3',
                type: '2d-rectangle-domains',
                options: {
                  patternType: 'tad',
                  labelColor: 'black',
                  labelPosition: 'hidden',
                  trackBorderWidth: 0,
                  trackBorderColor: 'black',
                  rectangleDomainFillColor: 'grey',
                  rectangleDomainFillOpacity: 0,
                  rectangleDomainStrokeColor: 'black',
                  rectangleDomainOpacity: 0,
                  rectanlgeMinSize: 1,
                  name: 'Forcato et al (2017) Rao_RepA1_GM12878_HiCseg.txt.multires.db',
                },
                position: 'center',
              },
              {
                server: 'http://higlass.io/api/v1',
                tilesetUid: 'OjpPD5gFQuSlQuxMTmLEVg',
                uid: 'anno-tads-4',
                type: '2d-rectangle-domains',
                options: {
                  patternType: 'tad',
                  labelColor: 'black',
                  labelPosition: 'hidden',
                  trackBorderWidth: 0,
                  trackBorderColor: 'black',
                  rectangleDomainFillColor: 'grey',
                  rectangleDomainFillOpacity: 0,
                  rectangleDomainStrokeColor: 'black',
                  rectangleDomainOpacity: 0,
                  rectanlgeMinSize: 1,
                  name: 'Forcato et al (2017) Rao_RepA1_GM12878_InsulationScore.txt.multires.db',
                },
                position: 'center',
              },
              {
                server: 'http://higlass.io/api/v1',
                tilesetUid: 'MwkxoQuDSiKCNbgjp_oajQ',
                uid: 'anno-tads-5',
                type: '2d-rectangle-domains',
                options: {
                  patternType: 'tad',
                  labelColor: 'black',
                  labelPosition: 'hidden',
                  trackBorderWidth: 0,
                  trackBorderColor: 'black',
                  rectangleDomainFillColor: 'grey',
                  rectangleDomainFillOpacity: 0,
                  rectangleDomainStrokeColor: 'black',
                  rectangleDomainOpacity: 0,
                  rectanlgeMinSize: 1,
                  name: 'Forcato et al (2017) Rao_RepA1_GM12878_TADBit.txt.multires.db',
                },
                position: 'center',
              },
              {
                server: 'http://higlass.io/api/v1',
                tilesetUid: 'LJKrbbQ5SeKDIPaLFP0diA',
                uid: 'anno-tads-6',
                type: '2d-rectangle-domains',
                options: {
                  patternType: 'tad',
                  labelColor: 'black',
                  labelPosition: 'hidden',
                  trackBorderWidth: 0,
                  trackBorderColor: 'black',
                  rectangleDomainFillColor: 'grey',
                  rectangleDomainFillOpacity: 0,
                  rectangleDomainStrokeColor: 'black',
                  rectangleDomainOpacity: 0,
                  rectanlgeMinSize: 1,
                  name: 'Forcato et al (2017) Rao_RepA1_GM12878_TADtree.txt.multires.db',
                },
                position: 'center',
              },
              {
                server: 'http://higlass.io/api/v1',
                tilesetUid: 'P6aAKSc5SrKZmLwv7zM5DA',
                uid: 'anno-tads-7',
                type: '2d-rectangle-domains',
                options: {
                  patternType: 'tad',
                  labelColor: 'black',
                  labelPosition: 'hidden',
                  trackBorderWidth: 0,
                  trackBorderColor: 'black',
                  rectangleDomainFillColor: 'grey',
                  rectangleDomainFillOpacity: 0,
                  rectangleDomainStrokeColor: 'black',
                  rectangleDomainOpacity: 0,
                  rectanlgeMinSize: 1,
                  name: 'Forcato et al (2017) Rao_RepA1_GM12878_armatus.txt.multires.db',
                },
                position: 'center',
              },
              {
                server: 'http://higlass.io/api/v1',
                tilesetUid: 'Pj-GSgp0SlqpKhuLJkhzFQ',
                uid: 'anno-tads-8',
                type: '2d-rectangle-domains',
                options: {
                  patternType: 'tad',
                  labelColor: 'black',
                  labelPosition: 'hidden',
                  trackBorderWidth: 0,
                  trackBorderColor: 'black',
                  rectangleDomainFillColor: 'grey',
                  rectangleDomainFillOpacity: 0,
                  rectangleDomainStrokeColor: 'black',
                  rectangleDomainOpacity: 1,
                  rectanlgeMinSize: 1,
                  name: 'Forcato et al (2017) Rao_RepA1_GM12878_domainCaller.txt.multires.db',
                },
                position: 'center',
              },
              {
                server: 'http://localhost:8001/api/v1',
                tilesetUid: 'loops',
                uid: 'anno-loops-1',
                type: '2d-rectangle-domains',
                options: {
                  patternType: 'loop',
                  labelColor: 'black',
                  labelPosition: 'hidden',
                  trackBorderWidth: 0,
                  trackBorderColor: 'black',
                  rectangleDomainFillColor: 'grey',
                  rectangleDomainFillOpacity: 0,
                  rectangleDomainStrokeColor: 'black',
                  rectangleDomainOpacity: 1,
                  inset: true,
                  insetMinSize: 10,
                  insetRelatedTrackUid: 'heatmap1',
                  relatedTracks: ['heatmap1'],
                  rectanlgeMinSize: 0.01,
                  name: 'Rao et al (2014) GSE63525_GM12878_primary+replicate_HiCCUPS_looplist.multires',
                },
                position: 'center',
              },
              {
                server: 'http://localhost:8001/api/v1',
                tilesetUid: 'rao-gm12878-1kbmr',
                uid: 'insets',
                type: 'insets',
                chromInfoPath: '//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv',
                datatype: 'cooler',
                options: {
                  aggregation: 'pile',
                  isLogTransform: false,
                  minClusterSize: 2,
                  maxPreviews: 8,
                  previewSpacing: 1,
                  minSize: 16,
                  maxSize: 24,
                  sizeStepSize: 2,
                  padding: 0.2,
                  paddingCustom: {
                    5000: 8,
                    10000: 4,
                    25000: 2,
                    50000: 0.5,
                    100000: 0.2,
                    200000: 0.15,
                  },
                  resolution: 32,
                  resolutionCustom: {
                    10000: 10,
                    100000: 16,
                  },
                  scale: 3,
                  onClickScale: 2,
                  fill: 'white',
                  fillOpacity: 1,
                  borderColor: 'black',
                  borderWidth: 2,
                  borderOpacity: 1,
                  leaderLineColor: 'black',
                  leaderLineWidth: 2,
                  leaderLineOpacity: 1,
                  dropDistance: 1,
                  dropBlur: 3,
                  dropOpacity: 0.8,
                  opacity: 1,
                  showClusterSize: true,
                  isDraggingEnabled: true,
                  scaleSizeBy: 'clusterSize',
                  focusColor: 'red',
                  clusterSizeColor: 'white',
                },
                position: 'center',
              },
            ],
            position: 'center',
            options: {},
          }
        ],
        right: [
          {
            type: 'vertical-gene-annotations',
            width: 60,
            tilesetUid: 'OHJakQICQD6gTD7skx4EWA',
            server: 'http://higlass.io/api/v1',
            name: 'Gene Annotations (hg19)',
            options: {
              labelPosition: 'outerBottom',
              name: 'Gene Annotations (hg19)',
              labelColor: 'black',
              plusStrandColor: 'blue',
              minusStrandColor: 'red',
              trackBorderWidth: 0,
              trackBorderColor: 'black',
            },
            position: 'right',
            uid: 'O3KJFOePTtGhWZ9uzkEDvw',
            height: 592,
          },
          {
            chromInfoPath: '//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv',
            type: 'vertical-chromosome-labels',
            name: 'Chromosome Labels (hg19)',
            width: 30,
            options: {
              labelPosition: 'outerBottom',
              name: 'Chromosome labels',
            },
            position: 'right',
            uid: 'FjeuD8N1TKec7t_cL6xzSw',
            height: 592,
          },
        ],
        bottom: [
          {
            name: 'wgEncodeSydhTfbsGm12878Rad21IggrabSig',
            server: 'http://higlass.io/api/v1',
            tilesetUid: 'F2vbUeqhS86XkxuO1j2rPA',
            type: 'horizontal-line',
            options: {
              labelPosition: 'outerLeft',
              axisPositionHorizontal: 'right',
              lineStrokeColor: 'blue',
              name: 'wgEncodeSydhTfbsGm12878Rad21IggrabSig.hitile',
              valueScaling: 'log',
              labelColor: 'black',
              lineStrokeWidth: 1,
              trackBorderWidth: 0,
              trackBorderColor: 'black',
              labelTextOpacity: 0.4,
            },
            width: 2310,
            height: 50,
            position: 'bottom',
            uid: 'XqEiqg-GTkWL2K50hs_Skg',
          },
        ],
      },
      metaTracks: [
        {
          uid: 'c2a',
          type: 'annotations-to-insets',
          insetsTrack: 'insets',
          options: {
            annotationTracks: [
              'anno-tads-1',
              'anno-tads-2',
              'anno-tads-3',
              'anno-tads-4',
              'anno-tads-5',
              'anno-tads-7',
              'anno-tads-8',
              'anno-loops-1',
            ],
            excludeTracks: [
              'anno-tads-1',
              'anno-tads-2',
              'anno-tads-3',
              'anno-tads-4',
              'anno-tads-5',
              'anno-tads-7',
              'anno-tads-8',
            ],
            insetThreshold: 16,
            clusterAmong: 'patternType',
            gridSize: 48,
            minClusterSize: 3,
            maxClusterDiameter: 96,
            boostContext: 1,
            boostDetails: 1,
            boostLocality: 1,
            boostLayout: 1,
            boostLayoutInit: 100,
          },
        },
      ],
      layout: {
        w: 12,
        h: 12,
        x: 0,
        y: 0,
        i: 'aa',
        moved: false,
        static: false,
      },
    },
  ],
  zoomLocks: {
    locksByViewUid: {},
    locksDict: {},
  },
  locationLocks: {
    locksByViewUid: {},
    locksDict: {},
  },
};

window.hgApi = window.hglib.viewer(
  document.getElementById('development-demo'),
  testViewConfig,
  { bounded: true },
);

</script>
</html>
